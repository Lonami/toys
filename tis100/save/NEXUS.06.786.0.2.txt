@0
## FAST DIV2
# 1. DIFFERENCE
# 2. DIV BY 2
# 3. ADD SMALLEST
#
# PROBABLY BINARY
# SEARCH RATHER
# THAN JUST ITS
# FIRST STEP WOULD
# BE EVEN FASTER
# BECAUSE GOING
# 1 BY 1 REALLY
# KILLS THAT NODE

@1
# A - B
ST: MOV UP ACC
    SAV
    SUB RIGHT
    JGZ RI

LE: NEG
    MOV ACC DOWN
    MOV 3 RIGHT
    SWP
    MOV ACC RIGHT
    JMP ST

RI: MOV ACC DOWN
    MOV 1 RIGHT

@2
ST: MOV UP ACC
    MOV ACC LEFT

JRO LEFT
MOV ACC RIGHT
JMP ST
MOV LEFT RIGHT

@3
MOV LEFT DOWN

@4
NX: MOV UP ACC
LP: SUB RIGHT
    JGZ CO
ST: MOV ACC DOWN
    MOV 1 RIGHT
    MOV ACC RIGHT
    JMP NX
CO: MOV -3 RIGHT
    JMP LP

@5
# YIELD POWERS' 2
MOV 1 ACC
LP: MOV ACC LEFT
    SAV
    ADD ACC
    JRO LEFT
    SWP
    ADD LEFT
    MOV ACC DOWN

@6
MOV UP DOWN

@7


@8
# YIELD HALF THE
# TIME WE OVERSHOT
ST: MOV UP ACC
    JNZ OK
EW: MOV 2 RIGHT
    JMP DN
OK: MOV 1 RIGHT
    ADD 2
    JGZ DN
    JEZ DN
LP: MOV -1 RIGHT
    ADD 2
    JLZ LP
DN: MOV 1 RIGHT

@9
# ADD 1 HALF THE
# TIME WE OVERSHOT
# TO OUR FINAL
# VALUE. ADD MIN
# AND WE HAVE AVG
MOV UP ACC
SUB 1
JRO LEFT
LP: ADD 1
    JRO LEFT
    ADD RIGHT
    MOV ACC DOWN

@10
MOV UP LEFT