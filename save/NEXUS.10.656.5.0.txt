@0
# MINIMUM KEEPER
MOV 999 ACC
LP: JRO RIGHT
    SAV
    SUB RIGHT
    JGZ SN
    MOV RIGHT NIL
    SWP
    JMP LP

# SAVE NEW MINIMUM
SN: MOV RIGHT ACC
    JMP LP

MOV ACC DOWN

@1
# FILL STK/GIV MIN
ST: MOV UP ACC
    JGZ NX

# TELL LEFT FLUSH
FL: MOV 9 LEFT
    MOV DOWN NIL
    JMP ST

# TELL LEFT ACCEPT
NX: MOV 1 LEFT
    MOV ACC LEFT
    MOV ACC RIGHT
    MOV ACC LEFT

@2
## NAIVE

@3
MOV UP RIGHT

@4
# SYNC/GIVE SUB
MOV LEFT ACC
MOV NIL RIGHT
NEG
JMP LP

    MOV ACC RIGHT
LP: JRO RIGHT
    MOV NIL UP

@5
MOV -1 UP
MOV -1 RIGHT
MOV LEFT NIL
L1: MOV UP ACC
    MOV ACC RIGHT
    JGZ L1
    MOV RIGHT NIL
L2: MOV -1 LEFT
    MOV LEFT ACC
    ADD RIGHT
    JLZ L3
    MOV ACC DOWN
    JMP L2
L3: MOV -1 DOWN
    MOV 1 LEFT

@6


@7
MOV UP DOWN

@8
