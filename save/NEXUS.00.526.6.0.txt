@0
## CENTRAL SORT
#
# SEQ  IS STRICTLY
# ASCENDING  WHICH
# MEANS WE CAN USE
# TWO EQUAL INPUTS
# TO    TERMINATE.
#
# IF IN = 0 -> 999
# TO  ONLY  OUTPUT
# THE  LOWEST ONE.
#
# WHEN BOTH 'R 999
# WE   FLUSH   AND
# TERMINATE WITH 0

@1
MOV UP DOWN

@2
MOV UP DOWN

@3
MOV UP ACC
JNZ LP
MOV 999 ACC
LP: MOV ACC RIGHT
    JRO RIGHT
    MOV ACC RIGHT

@4
ST: MOV LEFT ACC
    SUB RIGHT
    JGZ PR
    JEZ DN
PL: MOV 1 LEFT
    MOV LEFT DOWN
    MOV -1 RIGHT
    JMP ST
PR: MOV 1 RIGHT
    MOV RIGHT DOWN
    MOV -1 LEFT
    JMP ST
DN: MOV -4 LEFT
    MOV -4 RIGHT
    MOV 0 DOWN

@5
MOV UP ACC
JNZ LP
MOV 999 ACC
LP: MOV ACC LEFT
    JRO LEFT
    MOV ACC LEFT

@6


@7


@8
MOV UP DOWN